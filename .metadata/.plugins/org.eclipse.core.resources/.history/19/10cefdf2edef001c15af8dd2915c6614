package br.edu.univas.si5.bd2.DAO;

import java.util.Date;
import java.util.Scanner;

import javax.persistence.EntityManager;

import br.edu.univas.si5.bd2.entties.Cliente;
import br.edu.univas.si5.bd2.entties.Pedido;
import br.edu.univas.si5.bd2.utils.HibernateUtil;
import br.edu.univas.si5.bd2.view.View;

public class PersistePedido {

	Scanner leitura = new Scanner(System.in);

	public void persistePedido() {
		View view = new View();

		EntityManager em = HibernateUtil.getEntityManager();

		view.informaFK();
		Cliente cliente = em.find(Cliente.class, leitura.nextInt());
		leitura.nextLine();
		if (cliente == null) {
			System.out.println(cliente + "Ã© null");
			leitura.close();
			return;
		}

		Pedido pedido = new Pedido();
		view.informaID();
      	pedido.setID(leitura.nextInt());
      	view.informaData();
      	pedido.setData(new Date(leitura.nextLine()));
      	view.informaValor();
      	pedido.setValor(leitura.nextDouble());
      	leitura.nextLine();

	}
}
